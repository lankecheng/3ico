webpackJsonp([3],{209:function(e,t,i){i(356);var r=i(195)(i(369),i(346),"data-v-cbb4bc88",null);e.exports=r.exports},346:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-card",{staticClass:"register-wrap"},[r("div",{staticClass:"hd",slot:"header"},[r("img",{attrs:{src:i(196),height:"53",width:"155"}})]),e._v(" "),r("div",{staticClass:"bd"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"昵称",prop:"nick"}},[r("el-input",{staticStyle:{width:"210px"},on:{blur:e.handleCheckNickname},model:{value:e.form.nick,callback:function(t){e.form.nick=t},expression:"form.nick"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[r("el-input",{staticStyle:{width:"210px"},attrs:{type:"password"},model:{value:e.form.pwd,callback:function(t){e.form.pwd=t},expression:"form.pwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"确认密码",prop:"checkPwd"}},[r("el-input",{staticStyle:{width:"210px"},attrs:{type:"password"},model:{value:e.form.checkPwd,callback:function(t){e.form.checkPwd=t},expression:"form.checkPwd"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[r("el-input",{staticStyle:{width:"210px"},on:{blur:e.handleCheckMobile},model:{value:e.form.mobile,callback:function(t){e.form.mobile=t},expression:"form.mobile"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"验证码",prop:"pin_code"}},[r("el-input",{staticStyle:{width:"100px"},model:{value:e.form.pin_code,callback:function(t){e.form.pin_code=t},expression:"form.pin_code"}}),e._v(" "),r("el-button",{on:{click:e.handleGetVcode}},[e._v("获取验证码")])],1),e._v(" "),r("el-form-item",[r("el-checkbox",{model:{value:e.form.agree,callback:function(t){e.form.agree=t},expression:"form.agree"}},[e._v("我已认真阅读并同意3ICO的使用协议")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{disabled:!e.form.agree,type:"primary"},on:{click:e.onSubmit}},[e._v("注册")])],1)],1)],1)]),e._v(" "),r("el-dialog",{attrs:{title:"图形验证码",visible:e.vcodeDialog.show,size:"tiny"},on:{"update:visible":function(t){e.vcodeDialog.show=t}}},[r("div",[r("el-input",{staticStyle:{width:"100px","vertical-align":"top"},model:{value:e.vcodeDialog.value,callback:function(t){e.vcodeDialog.value=t},expression:"vcodeDialog.value"}}),e._v(" "),r("img",{attrs:{src:e.vcodeDialog.b64,height:"36"}})],1),e._v(" "),r("span",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.handleSendPinCode}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}},356:function(e,t){},369:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(24),o=i.n(r),a=i(12);t.default={data:function(){var e=this;return{API_ORIGIN:"http://119.23.160.90:8080",captcha_id:"",vcodeDialog:{show:!1,b64:"",value:""},form:{nick:"",pwd:"",checkPwd:"",mobile:"",pin_code:"",agree:!1},rules:{nick:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:4,max:20,message:"长度在 4 到 20 个字符",trigger:"blur"},{validator:function(e,t,i){t.match(/^[\u4E00-\u9FA5a-z0-9]+$/)?i():i(new Error("昵称由小写英文字母、中文、数字组成!"))},trigger:"blur"}],pwd:[{required:!0,message:"请输入密码",trigger:"blur"},{validator:function(t,i,r){i.match(/^[A-Za-z0-9~!@#$%^&*_-]+$/)?""!==e.form.checkPwd&&e.$refs.form.validateField("checkPwd"):r(new Error("密码由英文字母、数字、符号组成!")),r()},trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],checkPwd:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(t,i,r){i!==e.form.pwd?r(new Error("两次输入密码不一致!")):r()},trigger:"blur"},{min:6,max:16,message:"长度在 6 到 16 个字符",trigger:"blur"}],mobile:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,i){t.match(/^1\d{10}$/)?i():i(new Error("请输入正确手机号"))},trigger:"blur"}],pin_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:o()({},i.i(a.mapActions)({checkNickname:"checkNickname",checkMobile:"checkMobile",getCaptcha:"getCaptcha",register:"register"}),{onSubmit:function(){var e=this,t=this.form;this.$refs.form.validate(function(i){i&&e.register({nick:t.nick,pwd:t.pwd,mobile:t.mobile,pin_code:t.pin_code}).then(function(t){0===t.error_code&&(e.$message("注册成功"),e.$router.push({path:"/"}))})})},handleSendPinCode:function(){this.vcodeDialog.show=!1},handleGetVcode:function(){var e=this;this.getCaptcha().then(function(t){e.vcodeDialog.b64="data:image/png;base64,"+t.data.captcha,e.captcha_id=t.data.captcha_id}),this.vcodeDialog.show=!0},handleCheckNickname:function(){var e=this;this.$refs.form.validateField("nick",function(t){t||e.checkNickname({nick:e.form.nickname})})},handleCheckMobile:function(){var e=this;this.$refs.form.validateField("mobile",function(t){t||e.checkMobile({mobile:e.form.mobile})})}})}}});